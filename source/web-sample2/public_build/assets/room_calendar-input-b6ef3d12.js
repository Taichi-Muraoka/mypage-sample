class f extends PageBase{constructor(){super()}start(){const i=this;var a=()=>{UrlCom.redirect(UrlCom.getFuncUrl())},c=(e,s,t)=>{e.selectGetItemDate={};var m=e.form.campus_cd,r=t;e.form.period_no="",i.selectChangeGetCallBack(e,{campus_cd:m,target_date:r},e.option,o=>{e.selectGetItemDate=o,e.form.course_kind!=3&&(o.selectItems.length!=0&&o.selectItems.some(n=>n.code==e.form.period_no_bef)?(e.form.period_no=e.form.period_no_bef,o.timetable_kind!=e.form.timetable_kind&&(e.selectChangeGetTimetable(),e.form.timetable_kind=o.timetable_kind)):(e.form.start_time="",e.form.end_time="",e.form.period_no_bef=""))})};this.getVueInputForm({afterEdit:a,datepickerOnChange:c,vueData:{selectGetItemCourse:{},selectGetItemTimetable:{},selectGetItemDate:{}},vueMethods:{selectChangeGetCourse:function(e){AjaxCom.getPromise().then(()=>{this.selectGetItemCourse={},this.form.course_kind="";var s=this.form.course_cd;i.selectChangeGetCallBack(this,s,{urlSuffix:"course"},t=>{this.selectGetItemCourse=t,this.form.course_kind=t.course_kind})}).catch(AjaxCom.fail)},selectChangeGetTimetable:function(e){AjaxCom.getPromise().then(()=>{if(ValueCom.isEmpty(this.form.period_no))return AjaxCom.exit()}).then(()=>{this.selectGetItemTimetable={};var s=this.form.campus_cd,t=this.form.target_date,m=this.form.period_no;i.selectChangeGetCallBack(this,{campus_cd:s,target_date:t,period_no:m},{urlSuffix:"timetable"},r=>{this.selectGetItemTimetable=r,this.form.start_time=r.start_time,this.form.end_time=r.end_time,this.form.period_no_bef=this.form.period_no})}).catch(AjaxCom.fail)}}})}}export{f as default};
