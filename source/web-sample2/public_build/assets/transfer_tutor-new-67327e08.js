class h extends PageBase{constructor(){super()}start(){const d=this;var o=()=>{UrlCom.redirect(UrlCom.getFuncUrl())},l=(e,s,r)=>{var t=s.replace("preferred_date","").replace("_calender","");switch(t){case"1":e.selectGetItemPeriod1={};break;case"2":e.selectGetItemPeriod2={};break;case"3":e.selectGetItemPeriod3={};break}var a=e.form.campus_cd,i=r;e.form["preferred_date"+t+"_period_bef"]=e.form["preferred_date"+t+"_period"],e.form["preferred_date"+t+"_period"]="",d.selectChangeGetCallBack(e,{campus_cd:a,target_date:i},{urlSuffix:"calender"},c=>{switch(t){case"1":e.selectGetItemPeriod1=c.periods;break;case"2":e.selectGetItemPeriod2=c.periods;break;case"3":e.selectGetItemPeriod3=c.periods;break}c.periods.length!=0&&c.periods.some(m=>m.code==e.form["preferred_date"+t+"_period_bef"])?e.form["preferred_date"+t+"_period"]=e.form["preferred_date"+t+"_period_bef"]:e.form["preferred_date"+t+"_period_bef"]=""})};this.getVueInputForm({afterNew:o,datepickerOnChange:l,vueData:{selectGetItemSchedule:{},selectGetItemPeriod1:{},selectGetItemPeriod2:{},selectGetItemPeriod3:{}},vueMethods:{lessonListReset:function(){this.selectGetItem={},this.selectGetItemPeriod1={},this.selectGetItemPeriod2={},this.selectGetItemPeriod3={},this.form.campus_cd="";for(var e=1;e<=3;e++)this.form["preferred_date"+e+"_calender"]="",this.form["preferred_date"+e+"_period"]="",$("#_preferred_date"+e+"_calender").val("")},selectChangeStudent:function(e){this.selectGetItemSchedules={},this.form.schedule_id="",this.form.campus_cd="",this.form.monthly_count="",this.lessonListReset();var s=this.form.student_id;d.selectChangeGetCallBack2(this,s,{urlSuffix:"student"},"selectGetItemSchedules",r=>{this.selectGetItemSchedule=r,this.form.monthly_count=r.monthly_count})},selectChangeSchedule:function(e){this.lessonListReset();var s=this.form.schedule_id;d.selectChangeGetCallBack(this,s,{urlSuffix:"schedule"},r=>{this.selectGetItem=r,this.form.campus_cd=r.campus_cd})}}})}}export{h as default};
