class m extends PageBase{constructor(){super()}start(){const c=this,r=["L1","L2","H1","H2"];var l=()=>{UrlCom.redirect(UrlCom.getFuncUrl())};this.getVueInputForm({afterEdit:l,vueData:{selectGetItemCatL1:{},selectGetItemCatL2:{},selectGetItemCatL3:{},selectGetItemUni1_L1:{},selectGetItemUni2_L1:{},selectGetItemUni3_L1:{},selectGetItemUni1_L2:{},selectGetItemUni2_L2:{},selectGetItemUni3_L2:{},selectGetItemCatH1:{},selectGetItemCatH2:{},selectGetItemCatH3:{},selectGetItemUni1_H1:{},selectGetItemUni2_H1:{},selectGetItemUni3_H1:{},selectGetItemUni1_H2:{},selectGetItemUni2_H2:{},selectGetItemUni3_H2:{}},vueMounted:function(t,_){t.selectChangeGetInit()},vueMethods:{lessonListReset:function(){this.form.monthly_goal="";for(var t of r){this.selectGetItem={},this.form["text_cd_"+t]="",this.form["bef_text_cd_"+t]="",this.form["text_page_"+t]="",this.form["text_name_"+t]="",this["selectGetItemCat"+t]={};for(var _=1;_<=3;_++)this.form["unit_category_cd"+_+"_"+t]="",this.form["bef_unit_category_cd"+_+"_"+t]="",this.form["category_name"+_+"_"+t]="",this["selectGetItemUni"+_+"_"+t]={},this.form["unit_cd"+_+"_"+t]="",this.form["bef_unit_cd"+_+"_"+t]="",this.form["unit_name"+_+"_"+t]=""}},selectChangeGet:function(t){this.lessonListReset();var _=this.form.id;c.selectChangeGetCallBack(this,_,this.option,i=>{if(this.selectGetItem=i,i.selectItems.length!=0)for(var e of r)this.form["text_cd_"+e]=this.form["bef_text_cd_"+e];if(i.last_data.length!=1&&i.last_data.lesson_report_id==null){i.last_data.monthly_goal!=null&&(this.form.monthly_goal=i.last_data.monthly_goal);for(var e of r){if(e=="H1")break;i.last_data["text_cd_"+e]!=null&&(this.form["bef_text_cd_"+e]=i.last_data["text_cd_"+e],this.form["text_cd_"+e]=this.form["bef_text_cd_"+e]),i.last_data["text_page_"+e]!=null&&(this.form["text_page_"+e]=i.last_data["text_page_"+e]),i.last_data["text_name_"+e]!=null&&(this.form["text_name_"+e]=i.last_data["text_name_"+e]);for(var s=1;s<=3;s++)i.last_data["unit_category_cd"+s+"_"+e]!=null&&(this.form["bef_unit_category_cd"+s+"_"+e]=i.last_data["unit_category_cd"+s+"_"+e],this.form["unit_category_cd"+s+"_"+e]=this.form["bef_unit_category_cd"+s+"_"+e]),i.last_data["category_name"+s+"_"+e]!=null&&(this.form["category_name"+s+"_"+e]=i.last_data["category_name"+s+"_"+e]),i.last_data["unit_cd"+s+"_"+e]!=null&&(this.form["bef_unit_cd"+s+"_"+e]=i.last_data["unit_cd"+s+"_"+e],this.form["unit_cd"+s+"_"+e]=this.form["bef_unit_cd"+s+"_"+e]),i.last_data["unit_name"+s+"_"+e]!=null&&(this.form["unit_name"+s+"_"+e]=i.last_data["unit_name"+s+"_"+e]);this.selectChangeGetCatInit(e)}}})},selectChangeGetInit:function(){if(!ValueCom.isEmpty(this.form.id)){this.selectGetItem={};var t=this.form.id;c.selectChangeGetCallBack(this,t,this.option,_=>{if(this.selectGetItem=_,_.selectItems.length!=0)for(var i of r)this.form["text_cd_"+i]=this.form["bef_text_cd_"+i],this.selectChangeGetCatInit(i)})}},selectChangeGetCat:function(t){if(!(!t||!t.target.id.startsWith("text_cd_"))){for(var _=t.target.id.replace("text_cd_",""),i=1;i<=3;i++)this.form["unit_category_cd"+i+"_"+_]="",this.form["unit_cd"+i+"_"+_]="",this["selectGetItemUni"+i+"_"+_]={};this["selectGetItemCat"+_]={};var e="selectGetItemCat"+_;if(!ValueCom.isEmpty(this.form[t.target.id])){var s={text_cd:this.form[t.target.id]};c.selectChangeGet2(this,s,{urlSuffix:"text"},e)}}},selectChangeGetCatInit:function(t){var _=this.form["bef_text_cd_"+t];if(!ValueCom.isEmpty(_)){this["selectGetItemCat"+t]={};var i="selectGetItemCat"+t,e={text_cd:_};c.selectChangeGetCallBack2(this,e,{urlSuffix:"text"},i,s=>{if(this[i]=s,s.selectItems.length!=0)for(var a=1;a<=3;a++)this.form["unit_category_cd"+a+"_"+t]=this.form["bef_unit_category_cd"+a+"_"+t],this.selectChangeGetUniInit(t,a)})}},selectChangeGetUni:function(t){if(!(!t||!t.target.id.startsWith("unit_category_cd"))){var _=t.target.id.replace("unit_category_cd","");this.form["unit_cd"+_]="",this["selectGetItemUni"+_]={};var i="selectGetItemUni"+_;if(!ValueCom.isEmpty(this.form[t.target.id])){var e={unit_category_cd:this.form[t.target.id]};c.selectChangeGet2(this,e,{urlSuffix:"category"},i)}}},selectChangeGetUniInit:function(t,_){var i=this.form["unit_category_cd"+_+"_"+t];if(!ValueCom.isEmpty(i)){this["selectGetItemUni"+_+"_"+t]={};var e="selectGetItemUni"+_+"_"+t,s={unit_category_cd:i};c.selectChangeGetCallBack2(this,s,{urlSuffix:"category"},e,a=>{this[e]=a,a.selectItems.length!=0&&(this.form["unit_cd"+_+"_"+t]=this.form["bef_unit_cd"+_+"_"+t])})}}}})}}export{m as default};
