class f extends PageBase{constructor(){super()}start(){const o=this;var s=()=>{UrlCom.redirect(UrlCom.getFuncUrl())},l=(e,a,i)=>{e.selectGetItemDate={};var m=e.form.campus_cd,t=i;e.form.period_no="",o.selectChangeGetCallBack(e,{campus_cd:m,target_date:t},e.option,r=>{e.selectGetItemDate=r,r.selectItems.length!=0&&r.selectItems.some(n=>n.code==e.form.period_no_bef)?(e.form.period_no=e.form.period_no_bef,r.timetable_kind!=e.form.timetable_kind&&(e.selectChangeGetTimetable(),e.form.timetable_kind=r.timetable_kind)):(e.form.start_time="",e.form.end_time="",e.form.period_no_bef="")})};this.getVueInputForm({afterEdit:s,datepickerOnChange:l,vueData:{selectGetItemTimetable:{},selectGetItemDate:{}},vueMethods:{selectChangeGetTimetable:function(e){AjaxCom.getPromise().then(()=>{if(ValueCom.isEmpty(this.form.period_no))return AjaxCom.exit()}).then(()=>{this.selectGetItemTimetable={};var a=this.form.campus_cd,i=this.form.target_date,m=this.form.period_no;o.selectChangeGetCallBack(this,{campus_cd:a,target_date:i,period_no:m},{urlSuffix:"timetable"},t=>{this.selectGetItemTimetable=t,this.form.start_time=t.start_time,this.form.end_time=t.end_time,this.form.period_no_bef=this.form.period_no})}).catch(AjaxCom.fail)}}})}}export{f as default};
